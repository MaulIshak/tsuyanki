import{r as f,d as y,f as s,w as t,h as r,u as a,i as b,j as u,m as w,S as x,p as g,e as n,k as $,g as v,a0 as C,q as V,x as c,v as S,y as m}from"./index-BrnPQMAG.js";import{A as B,_ as D}from"./Textarea-DUmDP871.js";import{_ as N}from"./CardDescription-Bc54WSH-.js";import{_ as h}from"./CardFooter-BgujNU0H.js";import{S as A}from"./save-BvWY1xHz.js";const j={class:"p-6 max-w-2xl mx-auto space-y-6"},E={class:"space-y-2"},L={class:"space-y-2"},I={__name:"DeckCreateView",setup(O){const d=b(),_="https://activities-associates-involving-soul.trycloudflare.com/api/v1",o=f({name:"",description:""}),i=f(!1),k=async()=>{if(!o.value.name){c.error("Deck name is required");return}i.value=!0;const p=localStorage.getItem("auth_token");try{const{data:e,error:l}=await S(`${_}/decks`,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({title:o.value.name,description:o.value.description})}).json();if(l.value)throw new Error(l.value);c.success("Deck created successfully"),d.push("/decks")}catch{c.error("Failed to create deck")}finally{i.value=!1}};return(p,e)=>(m(),y("div",j,[s(a(u),{variant:"ghost",class:"pl-0 gap-2 text-slate-500 hover:text-slate-900 dark:hover:text-slate-100",onClick:e[0]||(e[0]=l=>a(d).back())},{default:t(()=>[s(a(B),{class:"w-4 h-4"}),e[4]||(e[4]=r(" Back ",-1))]),_:1}),s(a(V),null,{default:t(()=>[s(a(w),null,{default:t(()=>[s(a(x),null,{default:t(()=>[...e[5]||(e[5]=[r("Create New Deck",-1)])]),_:1}),s(a(N),null,{default:t(()=>[...e[6]||(e[6]=[r("Create a collection of cards to study a specific topic.",-1)])]),_:1})]),_:1}),s(a(g),{class:"space-y-4"},{default:t(()=>[n("div",E,[e[7]||(e[7]=n("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Name",-1)),s(a($),{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.name=l),placeholder:"e.g. Japanese Core 2000"},null,8,["modelValue"])]),n("div",L,[e[8]||(e[8]=n("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},"Description (Optional)",-1)),s(a(D),{modelValue:o.value.description,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.description=l),placeholder:"What is this deck about?",class:"resize-none h-32"},null,8,["modelValue"])])]),_:1}),s(a(h),{class:"flex justify-end gap-2"},{default:t(()=>[s(a(u),{variant:"ghost",onClick:e[3]||(e[3]=l=>a(d).back())},{default:t(()=>[...e[9]||(e[9]=[r("Cancel",-1)])]),_:1}),s(a(u),{onClick:k,disabled:i.value},{default:t(()=>[i.value?(m(),v(a(C),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(m(),v(a(A),{key:1,class:"w-4 h-4 mr-2"})),e[10]||(e[10]=r(" Create Deck ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]))}};export{I as default};
